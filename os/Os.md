# 운영체제

## 운영 체제란
- 하드웨어 바로위에 설치되어 사용자 및 다른 모든 소프트웨어와 하드웨어를 연결해주는 계층
- 좁은 의미 커널
- 넓은 의미 커널 포함 주변 모든 유틸리티
### 역할
- 자원을 효율적으로 관리
    - 주어진 자원으로 최대한의 성능 
    - 형평성있는 자원 분배
- 컴퓨터 시스템을 편하게 사용할 수 있게 해줌
### 분류
- 단일 작업
하나의 작업만 수행
- 다중 작업
동시에 두 개 이상의 작업 처리
- 단일 사용자
ex) MS-DOS
- 다중 사용자
ex) UNIX, NT server
- 일괄 처리
    - 작업 요청을 일정량 모아서 한번에 처리
    - 작업이 완전 종료될 때까지 기다림
    - 옛날 방식
- 시분할
    - 시간 단위로 분할하여 여러 프로그램을 처리
    일괄처리보다 빠름
    예)유닉스
    - interactive
- 실시간
    - 정해진 시간 안에 어떠한 일이 반드시 종료됨이 보장
    - 예: 원자로/공장 제어, 미사일, 반도체, 로보트
    - 확장
        - Hard Realtime System(경성 실시간 시스템)
        - Soft Realtime System(연성 실시간 시스템)

## 종류
- 유닉스
    - c언어로 작성
    - 높은 이식성
    - 최소한의 커널
    - 복잡한 시스템에 맞게 확장 용이
    - 소스 코드 공개
    - 프로그램 개발에 용이
    - 다양한 버전
        - 리눅스
        - System V, FreeBSD, SunOs, Solaris
- DOS(Disk Operating System)
    - MS사에 개발
    - 단일 사용자용
    - 메모리 관리 능력의 한계
- MS Windows
    - MS사의 다중 작업용 GUI기반 운영 체제
    - 풍부한 지원 소프트웨어

## 구조
- 메모리
    - CPU의 작업 공간
- CPU
    - 메모리에 올라온 작업들을 실행
    - 메모리보단 빠른 레지스터가 존재
    - CPU에서 실행하는게 운영체제인지 프로그램인지 구분하는 모드빗(mode bit)
        - 모드빗 0: 운영체제
            - 모든 작업 가능
        - 1 : 사용자 프로그램
            - I/O, 다른 프로그램의 영역등 접근 불가(보호)
    - 다른 입력을 받거나 출력을 할때 완료를 알려주는 인터럽트 라인(interruot line)
- I/O Device
    - 입출력 장치들, 디스크도 포함
    - 디바이스내에 CPU가 있음(디바이스 컨트롤러)
    - 디바이스 드라이버가 CPU가 접근하게 도와줌
    - 사용자 프로그램은 무조건 운영체제를 통해서 접근가능
- 타이머
    - 특정 프로그램이 CPU를 독점하는 걸 막아줌
    - 프로그램에 CPU를 넘겨줄때 시간을 할당해서 넘겨줌
    - 타이머의 시간이 끝나면 자동으로 운영체제로 CPU가 돌아옴
- DMA 컨트롤러
    - 메모리에 직접 접근
    - 과도한 인터럽트를 방지해서 CPU를 효율적으로 사용
    - CPU와 동시에 메모리에 접근하는 걸 방지하기위해서 메모리에도 컨트롤러가 존재
- 인터럽트
    - 보통은 하드웨어 인터럽트를 의미
    - 사용자 프로그램이 I/O 디바이스를 써야할때 운영체제에게 요청을 하는 시스템콜을 하면 직접 CPU의 인터럽트 라인을 접근해서 운영체제에게 요청을 보낸다. (Trap)
    - 입력이나 출력이 끝나면 다시 하드웨어 인터럽트 시행
    - 타이머가 쓰는 타이머 인터럽트도 존재
- 시스템콜
    - 사용자 시스템이 운영체제에게 부탁할때 사용
- 운영체제
    - 시분할 시스템
    - 인터럽트 기반 시스템 
        - 드라이버
- 데이터 버스
    - 정해진 경로를 일정시간마다 움직여서 버스

- 스레드 동기화
- 메인 스레드
